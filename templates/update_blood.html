{% extends 'base2.html' %}
{% load static %}
{% block title %}Update Blood Stock{% endblock %}
{% block extra_head %}
  <link rel="stylesheet" href="{% static 'css/blood_stock.css' %}">
{% endblock %}
{% block content %}
<div class="container my-5">
  <!-- Hero Header -->
  <div class="text-center mb-5">
    <span class="d-inline-block mb-3">
      <i class="bi bi-droplet-fill text-danger" style="font-size:3rem;"></i>
    </span>
    <h2 class="fw-bold">Update Blood Stock</h2>
    <p class="text-muted mb-0">Modify available blood units for each blood group.</p>
  </div>
  <div class="card shadow-sm border-0 mb-4">
    <div class="card-header bg-danger text-white d-flex align-items-center">
      <i class="bi bi-droplet-half me-2 fs-4"></i>
      <h3 class="mb-0 fw-bold">Blood Groups</h3>
    </div>
    <div class="card-body">
      {% if blood_groups %}
      <div class="table-responsive">
        <table class="table align-middle table-hover mb-0">
          <thead class="table-danger">
            <tr>
              <th>Blood Group</th>
              <th>Units</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for group in blood_groups %}
            <tr>
              <td>
                <span class="badge bg-danger fs-6 px-3 py-2"><i class="bi bi-droplet me-1"></i>{{ group.group }}</span>
              </td>
              <td>
                {% if group.units <= 5 %}
                  <span class="badge bg-warning text-dark px-3 py-2"><i class="bi bi-exclamation-circle me-1"></i>{{ group.units }} units</span>
                {% else %}
                  <span class="badge bg-success px-3 py-2"><i class="bi bi-check-circle me-1"></i>{{ group.units }} units</span>
                {% endif %}
              </td>
              <td>
                <a href="{% url 'update_blood_group' group.code %}" class="btn btn-outline-danger btn-sm"><i class="bi bi-pencil-square me-1"></i>Update</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="text-center py-5">
        <i class="bi bi-emoji-frown text-secondary fs-1 mb-2"></i>
        <h5 class="text-muted">No blood group data available.</h5>
        <p class="text-secondary">Please add blood groups to get started.</p>
      </div>
      {% endif %}
    </div>
  </div>
</div>
<style>
.table th, .table td { vertical-align: middle !important; }
</style>
{% endblock %}
