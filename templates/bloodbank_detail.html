{% extends 'base.html' %}
{% block title %}Blood Bank Details{% endblock %}

{% block extra_head %}
<style>
    .blood-bank-info {
        margin-top: 20px;
        padding: 15px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .blood-stock {
        margin-top: 20px;
        padding: 15px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .blood-group-cell {
        background: #f8f9fa;
        border-radius: 4px;
        padding: 5px 10px;
    }
</style>
{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row">
        <div class="col-12">
            <h2 class="mb-4">{{ bloodbank.blood_bank_name }}</h2>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-12">
            <div class="blood-bank-info">
                <h3 class="mb-3">Blood Bank Information</h3>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Category:</strong> {{ bloodbank.category }}</p>
                        <p><strong>Contact Person:</strong> {{ bloodbank.contact_person }}</p>
                        <p><strong>Phone:</strong> {{ bloodbank.phone }}</p>
                        <p><strong>Email:</strong> {{ bloodbank.email }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Address:</strong> {{ bloodbank.address }}</p>
                        <p><strong>District:</strong> {{ bloodbank.district }}</p>
                        <p><strong>Province:</strong> {{ bloodbank.province }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="blood-stock">
                <h3 class="mb-3">Available Blood Stock</h3>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Blood Group</th>
                                <th>Units Available</th>
                                <th>Last Updated</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for stock in bloodbank.blood_stock.all %}
                            <tr>
                                <td class="blood-group-cell">{{ stock.blood_group }}</td>
                                <td>{{ stock.units }} units</td>
                                <td>{{ stock.last_updated|date:"F j, Y, g:i a" }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
